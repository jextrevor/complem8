<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<title>Complem8</title>
<style>
  img {
    transition:transform 5s ease-out;
  }
  body {
    background:#FF0000;
    color:#00FFFF;
    font-family:abc;
    transition: background 5s ease-in-out, color 5s ease-in-out;
  }
  @font-face {
    font-family: abc;
    src: url(BLKCHCRY.TTF);
  }
</style> 
<script>
  //colors = ["#FF0000","#FF8000","#FFFF00","#80FF00","#00FF00","#00FF80","#00FFFF","#0080FF","#0000FF","#8000FF","#FF00FF","#FF0080"];
  colors = ["#FF0000","#00FF80","#FF00FF","#80FF00","#0000FF","#FF8000","#00FFFF","#FF0080","#00FF00","#8000FF","#FFFF00","#0080FF"];
  textcolors = ["#00FFFF","#FF0080","#00FF00","#8000FF","#FFFF00","#0080FF","#FF0000","#00FF80","#FF00FF","#80FF00","#0000FF","#FF8000"];
  array = ["error"];
  var xhrRequest = function (url, type, callback) {
  var xhr = new XMLHttpRequest();
  xhr.onload = function () {
    array = this.responseText.split("\n");
    array.splice(-1,1);
  };
  xhr.open(type, url);
  xhr.send();
};
  xhrRequest("complements.txt","GET",null);
  function displayText(string){
    document.getElementById("hi").innerHTML = string;
  }
  degrees = 0;
  position = 0;
  function getRandomColor () {
  var hex = Math.floor(Math.random() * 0xFFFFFF);
  return "#" + ("000000" + hex.toString(16)).substr(-6);
  }
  function spin(){
    position++;
    if(position >= colors.length){
      position = 0;
    }
    document.body.style.background = colors[position];
    document.body.style.color = textcolors[position];
    degrees+= 1800;
    document.getElementsByTagName("img")[0].style.transform = "rotate("+degrees+"deg)";
    rand = array[Math.floor(Math.random() * array.length)];
    setTimeout(function(){displayText(rand);}, 5000);
  }
</script>
</head>
<body> <img src="8ball.png" onclick="spin()" style="width:100%;">
  <center><h1 id="hi"></h1></center>
</body>
</html>
